function initializeGame(){var a=prompt("How large of a tic tac toe game? Max 20","3,4,5, etc...");a=sanitize(a),NaN===a&&(a=prompt("Sorry that's an invalid input, please input a single number (e.g. 3, 4, 5, etc...)")),window.xTurn=!0,window.turnCount=0,window.grid=[],window.gameFinished=!1,console.log(window.xTurn);var b=$(".tic-grid");b.html(""),$(".winner-title").remove();for(var c=0;a>c;c++){b.append('<div class="row" id="'+c+'"></div>'),window.grid.push([]);for(var d=0;a>d;d++){var e=c+"-"+d;$("#"+c).append('<div class="tile" id="'+e+'"><div class="label"></div></div>'),window.grid[c].push(0)}}var f=$(".container").width()/a-10;$(".tile").css({width:f+"px",height:f+"px","font-size":f/2+"px","border-radius":f/10+"px"})}function sanitize(a){var b=parseInt(a);return b>30?b=30:NaN===b&&(b=3),b}function checkWin(a,b,c){return!!(checkRow(a,b)||checkColumn(a,c)||checkDiagonal(a))}function checkRow(a,b){for(var c=0,d=0,e=0;e<a.length;e++)a[b][e]?c++:a[b][e]===!1&&d++;return d===a.length||c===a.length}function checkColumn(a,b){for(var c=0,d=0,e=0;e<a.length;e++)a[e][b]?c++:a[e][b]===!1&&d++;return d===a.length||c===a.length}function checkDiagonal(a){for(var b=0,c=0,d=0,e=0,f=0;f<a.length;f++)a[f][f]?b++:a[f][f]===!1&&c++,a[a.length-1-f][f]?d++:a[a.length-1-f][f]===!1&&e++;return c===a.length||b===a.length||e===a.length||d===a.length}$(document).ready(function(){initializeGame()}),$(document).on("click",".tile",function(){if(!$(this).hasClass("marked")){$(this).addClass("marked"),window.xTurn?($(this).html(),$(this).html('<div class="label">X</div>'),$(this).removeClass("hover"),$(this).addClass("x")):($(this).html('<div class="label">O</div>'),$(this).removeClass("hover"),$(this).addClass("o"));var a=$(this).attr("id");a=a.split("-");var b=parseInt(a[0]),c=parseInt(a[1]);window.grid[b][c]=window.xTurn,window.turnCount++,checkWin(window.grid,b,c)&&!gameFinished&&(gameFinished=!gameFinished,$(".overlay").show(),window.xTurn?$(".modal").prepend('<h1 class="winner-title">X Won!</h1>'):$(".modal").prepend('<h1 class="winner-title">O Won!</h1>')),window.turnCount!==window.grid.length*window.grid.length||gameFinished||($(".winner-title").remove(),$(".overlay").show(),$(".modal").prepend('<h1 class="winner-title">Tie Game!</h1>')),window.xTurn=!window.xTurn}}),$(document).on("mouseenter",".tile",function(){$(this).hasClass("marked")||($(this).addClass("hover"),window.xTurn?$(this).html('<div class="label">X</div>'):$(this).html('<div class="label">O</div>'))}),$(document).on("mouseleave",".tile",function(){$(this).hasClass("marked")||$(this).html(""),$(this).removeClass("hover")}),$(document).on("click",".restart",function(){initializeGame()}),$(document).on("click",".close",function(){$(".overlay").hide()}),$(document).on("click",".overlay",function(){$(".overlay").hide()});var modalString=['<div class="overlay">','<div class="modal">','<button class="close">X</button>','<button class="restart">Restart?</button>',"</div>","</div>"].join("");module.exports={checkWin:checkWin,checkRow:checkRow,checkColumn:checkColumn,checkDiagonal:checkDiagonal};